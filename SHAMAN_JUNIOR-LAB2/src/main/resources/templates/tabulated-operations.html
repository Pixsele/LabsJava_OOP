<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <script th:src="@{/js/scripts.js}" type="text/javascript"></script>
    <title>Модальное окно</title>
    <style>
        body {
            font-family: Tahoma, sans-serif;
        }
        .container {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            grid-template-rows: repeat(1, 1fr);
            gap: 10px;
            padding: 10px;
            font-family: Tahoma, sans-serif;
        }
        #operand1Container{
            background-color: #ffe6f0;
            border-radius: 25px;
            padding: 5px;
            height: 100%;
            min-height: 94vh;
            text-align: center;
        }
        #operand1Title{
            font-weight: bold;
            font-size: 27px;
            font-family: Tahoma, sans-serif;
            margin-bottom: 30px;
            margin-top: 50px;
        }
        #operand1Content button{
            font-family: Tahoma, sans-serif;
            background-color: #ff66b3;
            color: white;
            border: none;
            border-radius: 25px;
            margin-bottom: 10px;
            width: 55%;
            height: 45px;
            font-weight: bold;
            font-size: 15px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #operand1Content button:hover {
            background-color: #e45ba0;
        }

        #operand2Container{
            background-color: #ffe6f0;
            border-radius: 25px;
            padding: 5px;
            height: 100%;
            min-height: 94vh;
            text-align: center;
        }
        #operand2Title{
            font-weight: bold;
            font-size: 27px;
            font-family: Tahoma, sans-serif;
            margin-bottom: 30px;
            margin-top: 50px;
        }
        #operand2Content button{
            font-family: Tahoma, sans-serif;
            background-color: #ff66b3;
            color: white;
            border: none;
            border-radius: 25px;
            margin-bottom: 10px;
            width: 55%;
            height: 45px;
            font-weight: bold;
            font-size: 15px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        #operand2Content button:hover {
            background-color: #e45ba0;
        }

        #operand1Content button[disabled] {
            background-color: #cf8cb0; /* Серый фон для заблокированной кнопки */
            color: #ededed; /* Тусклый цвет текста */
            cursor: not-allowed; /* Указатель меняется на запрещающий значок */
            opacity: 0.6; /* Прозрачность для эффекта */
            border: none; /* Серый цвет рамки */
        }

        #operand2Content button[disabled] {
            background-color: #cf8cb0; /* Серый фон для заблокированной кнопки */
            color: #ededed; /* Тусклый цвет текста */
            cursor: not-allowed; /* Указатель меняется на запрещающий значок */
            opacity: 0.6; /* Прозрачность для эффекта */
            border: none; /* Серый цвет рамки */
        }

        #operand1Content button[disabled]:hover {
            background-color: #cf8cb0;
            color: #ededed;
            border-color: #aaa;
        }

        #operand2Content button[disabled]:hover {
            background-color: #cf8cb0;
            color: #ededed;
            border-color: #aaa;
        }

        #resultContainer{
            background-color: #ffe0b3;
            border-radius: 25px;
            height: 100%;
            min-height: 94vh;
            text-align: center;
        }

        #result1Title{
            font-weight: bold;
            font-size: 27px;
            font-family: Tahoma, sans-serif;
            margin-bottom: 30px;
            margin-top: 55px;
        }

        #resultLabel{
            font-family: Tahoma, sans-serif;
            font-size: 17px;
            font-weight: bolder;
            float: left;
            margin-bottom: 10px;
            color: #2e2e2e;
            margin-left: 107px;
        }

        #operation{
            border-radius: 25px;
            border: none;
            width: 55%;
            height: 45px;
            margin-left: 5px;
            margin-right: 10px;
            background-color: white;
            font-family: Tahoma, sans-serif;
            font-size: 15px;
            padding-left: 20px;
            padding-right: 15px;
            outline: none; /* Убираем обводку при фокусе */
            box-shadow: none;
            -webkit-appearance: none; /* Убирает стандартную стрелку в Chrome, Safari */
            -moz-appearance: none; /* Убирает стандартную стрелку в Firefox */
            appearance: none; /* Убирает стандартную стрелку в современных браузерах */
            background-image: url('data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 10 6"%3E%3Cpath d="M0 0l5 6 5-6z" fill="%23000000"/%3E%3C/svg%3E'); /* Своя стрелка */
            background-repeat: no-repeat;
            background-position: right 10px center; /* Стрелка справа по центру */
            background-size: 11px;
            margin-bottom: 10px;
        }

        #resultButton{
            width: 55%;
            height: 45px;
            background-color: #ff9d37;
            color: #ffffff;
            font-weight: bold;
            font-family: Tahoma, sans-serif;
            font-size: 15px;
            border-radius: 25px;
            border: none;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-bottom: 10px;
        }

        #resultButton:hover {
            background-color: #df872d;
        }

        #resultContent button{
            width: 55%;
            height: 45px;
            background-color: #ff9d37;
            color: #ffffff;
            font-weight: bold;
            font-family: Tahoma, sans-serif;
            font-size: 15px;
            border-radius: 25px;
            border: none;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s ease;
            margin-bottom: 10px;
        }

        #resultContent button:hover {
            background-color: #df872d;
        }

        #resultContent button[disabled] {
            background-color: #a37556; /* Серый фон для заблокированной кнопки */
            color: #ededed; /* Тусклый цвет текста */
            cursor: not-allowed; /* Указатель меняется на запрещающий значок */
            opacity: 0.6; /* Прозрачность для эффекта */
            border: none; /* Серый цвет рамки */
        }

        #resultContent button[disabled]:hover {
            background-color: #a37556;
            color: #ededed;
            border-color: #aaa;
        }

        table {
            width: 55%; /* Занимает всю ширину родительского контейнера */
            border-collapse: collapse; /* Убирает двойные линии между ячейками */
            font-family: Tahoma, sans-serif;
            margin: 0 auto;
        }

        th, td {
            padding: 10px; /* Внутренние отступы */
            text-align: center; /* Текст по левому краю */
            border: 1px solid #e0e0e0; /* Светло-серая рамка */
        }

        th {
            background-color: #ff66b3; /* Фон заголовка таблицы — розовый */
            color: white; /* Белый текст в заголовке */
            font-weight: bold; /* Жирный текст */
        }

        tr:nth-child(even) {
            background-color: #f2f2f2; /* Серый фон для четных строк */
        }

        tr:nth-child(odd) {
            background-color: #fff; /* Белый фон для нечетных строк */
        }

        td:first-child {
            text-align: center; /* Центровка первой колонки */
        }

        table tr:hover {
            background-color: #f9c5f0; /* Слегка розовый цвет при наведении на строку */
        }

    </style>
</head>
<body>
<div class="container">
    <div id="operand1Container">
        <h3 id="operand1Title">Операнд 1</h3>
        <div id="operand1Content">
            <button onclick="openModal('operand1','tabulated-operations')">Создать функцию</button>
            <button onclick="openSave('operand1')" th:attr="disabled=${operand1Func == null}">Сохранить</button>
            <button onclick="openFunctionList('operand1')">Загрузить</button>
            <button onclick="openAnother('tabulated-operations','operand1')">Открыть</button>
            <button onclick="openEdit('operand1','tabulated-operations')" th:attr="disabled=${operand1Func == null}">Вставить или изменить</button>
            <button onclick="openRemove('operand1','tabulated-operations')" th:attr="disabled=${operand1Func == null or count1 == 2 }">Удалить точку</button>
            <div th:if="${operand1Func != null}">
                <h4>Таблица функции:</h4>
                <table border="1">
                    <thead>
                    <tr>
                        <th>X</th>
                        <th>Y</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="i : ${#numbers.sequence(0, count1 - 1)}">
                        <td><input type="number" th:value="${function1.getXValues()[i]}" ></td>
                        <td><input type="number" th:value="${function1.getYValues()[i]}" ></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div th:if="${operand1Func == null}">
                <p>Функция отсутствует</p>
            </div>
        </div>
    </div>
    <div id="operand2Container">
        <h3 id="operand2Title">Операнд 2</h3>
        <div id="operand2Content">
            <button onclick="openModal('operand2')">Создать функцию</button>
            <button onclick="openSave('operand2')" th:attr="disabled=${operand2Func == null}">Сохранить</button>
            <button onclick="openFunctionList('operand2')">Загрузить</button>
            <button onclick="openAnother('tabulated-operations','operand2')">Открыть</button>
            <button onclick="openEdit('operand2','tabulated-operations')" th:attr="disabled=${operand2Func == null}">Вставить или изменить</button>
            <button onclick="openRemove('operand2','tabulated-operations')" th:attr="disabled=${operand2Func == null or count2 == 2 }">Удалить точку</button>
            <div th:if="${operand2Func != null}">
                <h4>Таблица функции:</h4>
                <table border="1">
                    <thead>
                    <tr>
                        <th>X</th>
                        <th>Y</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="i : ${#numbers.sequence(0, count2 - 1)}">
                        <td><input type="number" th:value="${function2.getXValues()[i]}" ></td>
                        <td><input type="number" th:value="${function2.getYValues()[i]}" ></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div th:if="${operand2Func == null}">
                <p>Функция отсутствует</p>
            </div>
        </div>
    </div>
    <div id="resultContainer">
        <!-- Результат сложения -->
        <h3 id="result1Title">Результат</h3>
        <div>
            <form action="/tabulated-operations/doOperation" method="post">
                <div class="operation-selector">
                    <label for="operation" id="resultLabel">Выберите операцию:</label>
                    <select id="operation" name="operation" required>
                        <option value="add">Сложение</option>
                        <option value="subtract">Вычитание</option>
                        <option value="multiply">Умножение</option>
                        <option value="divide">Деление</option>
                    </select>
                </div>
                <button type="submit" id="resultButton">Выполнить</button>
            </form>
        </div>

        <div id="resultContent">
            <button onclick="openSave('result')" th:attr="disabled=${resultFunc == null}">Сохранить</button>
            <div th:if="${resultFunc != null}">
                <h4>Таблица функции:</h4>
                <table border="1">
                    <thead>
                    <tr>
                        <th>X</th>
                        <th>Y</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr th:each="i : ${#numbers.sequence(0, count3 - 1)}">
                        <td><input type="number" th:value="${resultFunc.getXValues()[i]}" ></td>
                        <td><input type="number" th:value="${resultFunc.getYValues()[i]}" ></td>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div th:if="${resultFunc == null}">
                <p>Функция отсутствует</p>
            </div>
        </div>
    </div>
</div>
<div th:replace="fragments/functionsModalForms"></div>
</body>
</html>
